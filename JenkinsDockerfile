pipeline{
agent any
stages{
stage("copy artiface"){
steps{
copyArtifacts filter: 'target/demoart.war', fingerprintArtifacts: true, projectName: 'Warfile', selector: lastSuccessful()
}
}

stage("docker build"){
steps{
sh ''' sudo docker build -t demoart . '''
}
}

stage("docker push"){
steps{
script{
   sh ''' docker tag demoart sheelademo/demoart '''
   sh ''' docker push demoart '''  
}
}
}


}
}

